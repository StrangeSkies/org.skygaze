<?xml version="1.1"?>
<modelSchema xmlns="modabi.strangeskies.co.uk" namespace="entity.gears.strangeskies.co.uk">
	<models>
		<model id="stateComponent" bindingClass=".state.StateComponent"
			builderClass=".state.StateComponentConfigurator">
			<model id="script" builderClass=".declaration.ScriptDeclaration">
				<choice>
					<sequence>
						<property id="language" optional="true" type="string" />
						<property id="file" type="file" />
					</sequence>
					<sequence>
						<property id="language" />
						<content type="string" />
					</sequence>
				</choice>
				<property id="purpose" optional="true">
					<restriction>
						<enumeration value="implementation" />
						<enumeration value="factory" />
					</restriction>
				</property>
			</model>

			<model id="dependencies" bindingClass="java.util.Set">
				<element id="dependency" model="dependency" in="add"
					isIterableOut="true" out="this" occurences="1.." />
			</model>

			<simpleElement id="name" type="string" />
			<simpleElement id="description" type="string" />
			<element id="readDependencies" model="dependencies" occurences="0..1" />
			<element id="writeDependencies" model="dependencies" occurences="0..1" />
			<element id="data">
				<element id="type" model="class" />
				<element id="factory" bindingClass="uk.co.strangeskies.gears.utilities.Factory"
					model="userDefined" />
			</element>
			<element id="properties">
				<element id="property" occurences="0..">
					<element id="name" model="string" />
					<element id="type" model="class" />
					<element id="factory" model="factory" occurences="0..1" />
				</element>
			</element>
		</model>
	</models>
</modelSchema>
