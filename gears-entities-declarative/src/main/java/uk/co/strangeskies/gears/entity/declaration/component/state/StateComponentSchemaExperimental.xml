<?xml version="1.1"?>
<modelSchema>

	<!-- factory = "true|false|initialise" -->

	<model name="set" type="java.util.Set" implementation="require">
		<sequence>
			<element method="add"></element>
		</sequence>
	</model>

	<model name="pooFactory" type="uk.co.strangeskies.gears.utilities.Factory"
		implementation="provide">
		<element method="create">() => { return new poo(); }</element>
	</model>

	<model name="stateComponent"
		type="uk.co.strangeskies.gears.entity.state.StateComponent"
		builder="uk.co.strangeskies.gears.entity.state.StateComponentConfigurator::create">

		<element name="readDependencies" model="set">
			<sequence>
				<element name="dependency" model="string" />
			</sequence>
		</element>
	</model>

	<element name="stateComponent">
		<complexType>
			<sequence>

				<element name="name" type="string" maxOccurs="1" minOccurs="1" />

				<element name="description" type="string" maxOccurs="1"
					minOccurs="0" />

				<element name="readDependencies" maxOccurs="1" minOccurs="0"
					type="dependencies" />

				<element name="writeDependencies" maxOccurs="1" minOccurs="0"
					type="dependencies" />

				<element name="data" maxOccurs="1" minOccurs="1">
					<complexType>
						<sequence>
							<element name="type" type="string" maxOccurs="1"
								minOccurs="1" />

							<element type="factory" name="factory" maxOccurs="1"
								minOccurs="1" />
						</sequence>
					</complexType>
				</element>

				<element name="properties" maxOccurs="1" minOccurs="1">
					<complexType>
						<sequence>
							<element name="property" minOccurs="1" maxOccurs="unbounded">
								<complexType>
									<sequence>
										<element name="name" type="string" maxOccurs="1"
											minOccurs="1" />

										<element name="type" type="string" maxOccurs="1"
											minOccurs="1" />

										<element name="factory" type="factory" minOccurs="0" />
									</sequence>
								</complexType>
							</element>
						</sequence>
					</complexType>
				</element>

			</sequence>
		</complexType>
	</element>

</modelSchema>
